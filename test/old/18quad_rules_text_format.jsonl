{"text": "仮パラメータ（例: your_app）や未定義識別子は禁止"}
{"text": "そのままビルド可能で、既存機能にデグレのない完全なコードのみ出力"}
{"text": "出力前に不明点は必ず確認する"}
{"text": "差分ではなく常に全文出力"}
{"text": "出力時には変更内容の要約とソースコード行数の増減（物理的行数で±表記）を含める"}
{"text": "ディレクトリ構成は models/, services/, screens/, widgets/ に分割"}
{"text": "UserProviderでログイン状態やアイコンURL、isAdminなどを管理"}
{"text": "context.watch() / context.read() を使用して状態取得"}
{"text": "AppScaffoldを全画面で使用し、child:パラメータ形式を絶対に守る"}
{"text": "firestore_service.dart にすべてのFirestoreアクセスを集約"}
{"text": "画面から直接Firestoreにアクセスしてはならない"}
{"text": "firestore_schema.mdに記載のないフィールドやコレクションは使用禁止"}
{"text": "新項目を使いたい場合は事前にfirestore_schema.mdを更新する"}
{"text": "カウントはdaily_countsに記録し、集計用ドキュメントとは責務を分離"}
{"text": "ランキングは日別＝当日リアルタイム、月/年/総合＝静的な前日までの集計値で表示"}
{"text": "status: none → 参加・リクエスト可"}
{"text": "status: member → リクエスト不可"}
{"text": "status: manager → グループ管理画面有効、リクエスト不可"}
{"text": "未ログイン時でも右上にユーザーアイコン（アカウントメニュー）を表示"}
{"text": "通知ベルに未読数を表示し、クリックで一覧をメニュー表示"}
{"text": "不要なリファクタやついでの修正は禁止"}
{"text": "外部から呼ばれる関数の引数を変更する場合は事前に確認を取ること"}
{"text": "コードを修正する前に必ず元のソースを全行読み込むこと"}
{"text": "修正対象ファイルが手元にない場合は明示してから作業すること"}
{"text": "ソースコードはチャット内貼り付けとファイル出力の両方で提示すること"}
